<script type="text/x-template" id="exchangeModal">
    <div class="exx-modal-container exchangeModal">
        <div class="exx-modal-header">
          <h3>{{title}}</h3>
        </div>
        <p class="num-info">可用{{exchangOrigin}}：2000</p>
        <ul>
            <li class="exchangNum">
                <span>兑换{{exchangTarget}}数量：</span><input type="number" :placeholder="'最多可兑换' + exchangTarget" v-model="exchangVal" @input = "listenKeyword">
                <p style="color: red;margin: 10px 0 0 45px;" v-show="warnTips">兑换数量不能超过2000</p>
            </li>
            <li class="passWord">
                <span>登录密码：</span><input type="passWord" placeholder="请输入登录密码">
            </li>
        </ul>
    
      <div class="exx-modal-button">
        <button onclick="EXX.userIndex.closeModal()" class="exxbtn btn-cancel"><span><%= LANG('取消') %></span></button>
        <button class="exxbtn btn-ok"><span><%= LANG('确定') %></span></button>
      </div>
    </div>
</script>

<script>
    require(['vue', 'common/methods', 'common/juabox'], function (Vue, Methods, JuaBox) {
        return Vue.component('exchangeModal', {
            template: "#exchangeModal",
            props: {
                params: {
                    type: Object,
                    default: {}
                },
            },
            data: function () {
                return {
                    title: '',
                    warnTips : false,
                    exchangVal: '', // 兑换数量
                    exchangOrigin: '', // 兑换的基础货币
                    exchangTarget: '' // 兑换的目标货币
                }
            },
            methods: {
                listenKeyword() {
                    console.log(this.exchangVal)
                    if(this.exchangVal >= 2000) {
                        this.warnTips = true
                    }else {
                        this.warnTips = false
                    }
                }
            },
            created: function () {
                console.log(this.params)
                this.$nextTick(function () {
                    this.exchangOrigin = this.params.name.toUpperCase()
                    this.title = this.params.name == 'btc' ? '<%= LANG("XC兑换QC") %>' : '<%= LANG("QC兑换XC") %>'
                    this.exchangTarget = this.params.name == 'btc' ? 'IQ' : 'BTC'
                })
            },
        })
    })
</script>