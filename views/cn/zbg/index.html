<!DOCTYPE html>
<html class="no-js" lang="zxx">

<head>
    <script type="text/javascript">
        // console.log('<%= USER.safePwdLength %>')
        var GLOBAL = {},
            EXX = {},
            ENV = GLOBAL['ENV'] = '<%= ENV %>',
            LAN = GLOBAL['LAN'] = '<%= LAN %>',
            MONEY = GLOBAL['MONEY'] = '<%= MONEY || "usd" %>',
            ISLOGIN = GLOBAL['ISLOGIN'] = <%= Boolean(isLogin) %>,
            VERSION = GLOBAL['VERSION'] = '<%= VERSION %>',
            DOMAIN_BASE = GLOBAL['DOMAIN_BASE'] = '<%= DOMAIN_BASE %>',
            DOMAIN_DEV = GLOBAL['DOMAIN_DEV'] = '<%= DOMAIN_DEV %>',
            WEBSOCKET = GLOBAL['WEBSOCKET'] = '<%= WEBSOCKET %>';

        document.domain = DOMAIN_BASE;
    </script>

    <!-- Basic metas
    ======================================== -->
    <meta charset="utf-8">
    <meta name="author" content="Axilweb">
    <meta name="description" content="">
    <meta name="keywords" content="">

    <!-- Mobile specific metas
    ======================================== -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Page Title
    ======================================== -->
    <title>XT.com</title>

    <!-- <link rel="stylesheet" type="text/css" href="/lib/swiper/swiper-4.3.3.min.css"> -->
    <link href="https://cdn.bootcss.com/Swiper/4.3.3/css/swiper.min.css" rel="stylesheet">
    <!-- <script type="text/javascript" src="/lib/swiper/swiper-4.3.3.min.js"></script> -->
    <script src="https://cdn.bootcss.com/Swiper/4.3.3/js/swiper.min.js"></script>

    <!-- links for favicon
    ======================================== -->
    <link rel="shortcut icon" href="<%= STYLE_STATIC %>/images/favicon/favicon.ico" type="image/x-icon">
    <link rel="icon" href="<%= STYLE_STATIC %>/images/favicon/favicon.ico" type="image/x-icon">

    <!-- Icon fonts
    ======================================== -->
    <link rel="stylesheet" type="text/css" href="<%= STYLE_STATIC %>/styles/zbg/css/vendor/cryptowallet-argon.css?<%= VERSION %>?<%= VERSION %>">

    <!-- css links
    ======================================== -->
    <!-- Bootstrap link -->
    <!--<link rel="stylesheet" type="text/css" href="<%= STYLE_STATIC %>/styles/zbg/css/vendor/bootstrap.min.css?<%= VERSION %>">-->
    <link rel="stylesheet" type="text/css" href="https://cdn.bootcss.com/twitter-bootstrap/4.0.0/css/bootstrap.min.css?<%= VERSION %>">

    <!-- Slick slider -->
    <link rel="stylesheet" type="text/css" href="<%= STYLE_STATIC %>/styles/zbg/css/vendor/slick.css?<%= VERSION %>">
    <link rel="stylesheet" type="text/css" href="<%= STYLE_STATIC %>/styles/zbg/css/vendor/slick-theme.css?<%= VERSION %>">

    <!-- Magnific popup -->
    <link rel="stylesheet" type="text/css" href="<%= STYLE_STATIC %>/styles/zbg/css/vendor/magnific-popup.css?<%= VERSION %>">

    <!-- Custom styles -->
    <link rel="stylesheet" type="text/css" href="<%= STYLE_STATIC %>/styles/zbg/css/main.css?<%= VERSION %>">
    <link rel="stylesheet" type="text/css" href="<%= STYLE_STATIC %>/styles/zbg/css/index.css?<%= VERSION %>">

    <!-- Responsive styling -->
    <link rel="stylesheet" type="text/css" href="<%= STYLE_STATIC %>/styles/zbg/css/responsive.css?<%= VERSION %>">
    <link rel="stylesheet" type="text/css" href="<%= STYLE_STATIC %>/styles/xuleipro.css?<%= VERSION %>">
    <!-- <link rel="stylesheet" type="text/css" href="<%= STYLE_STATIC %>/styles/cssdna.css?<%= VERSION %>"> -->
    <link rel="stylesheet" type="text/css" href="<%= STYLE_STATIC %>/styles/juabox.css?<%= VERSION %>">

    <script type="text/javascript" src="/lib/eCharts/echarts.common.min.js"></script>
    <link href="<%= STYLE_STATIC %>/styles/common/animate.css?<%= VERSION %>" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="/lib/wow/wow.min.js?<%= VERSION %>"></script>
</head>

<body class="home">
    <!-- <script src="<%= STATIC %>/scripts/zbg/js/vendor/jquery-3.2.1.min.js"></script> -->
    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <%-include("../include/head.html")%>

    <!-- jQuery -->

    <!-- <script src="<%= STATIC %>/scripts/zbg/js/vendor/jquery-migrate.min.js"></script> -->
    <script src="https://cdn.bootcss.com/jquery-migrate/1.4.1/jquery-migrate.min.js"></script>
    <!-- Bootstrap js -->
    <script src="<%= STATIC %>/scripts/zbg/js/vendor/bootstrap.bundle.min.js"></script>
    <!-- font awesome -->
    <script src="<%= STATIC %>/scripts/zbg/js/vendor/fontawesome-all.min.js"></script>
    <!-- jQuery Countdown plugin -->
    <!-- <script src="<%= STATIC %>/scripts/zbg/js/vendor/jquery.countdown.min.js"></script> -->
    <script src="https://cdn.bootcss.com/jquery.countdown/2.2.0/jquery.countdown.min.js"></script>
    <!-- jQuery Easing Plugin -->
    <!-- <script src="<%= STATIC %>/scripts/zbg/js/vendor/easing-1.3.js"></script> -->
    <script src="https://cdn.bootcss.com/jquery-easing/1.3/jquery.easing.min.js"></script>
    <!-- jQuery progressbar plugin -->
    <!-- <script src="<%= STATIC %>/scripts/zbg/js/vendor/jquery.waypoints.min.js"></script> -->
    <script src="https://cdn.bootcss.com/waypoints/4.0.1/jquery.waypoints.min.js"></script>
    <!-- Bootstrap Progressbar -->
    <!-- <script src="<%= STATIC %>/scripts/zbg/js/vendor/bootstrap-progressbar.min.js"></script> -->
    <script src="https://cdn.bootcss.com/bootstrap-progressbar/0.9.0/bootstrap-progressbar.min.js"></script>
    <!-- ImagesLoaded js -->
    <!-- <script src="<%= STATIC %>/scripts/zbg/js/vendor/imagesloaded.pkgd.min.js"></script> -->
    <script src="https://cdn.bootcss.com/jquery.imagesloaded/4.1.3/imagesloaded.pkgd.min.js"></script>
    <!-- Slick carousel js -->
    <script src="<%= STATIC %>/scripts/zbg/js/vendor/slick.min.js"></script>
    <!-- Magnific popup -->
    <!-- <script src="<%= STATIC %>/scripts/zbg/js/vendor/jquery.magnific-popup.min.js"></script>-->
    <script src="https://cdn.bootcss.com/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js"></script>
    <script type="text/javascript" src="<%= STATIC %>/scripts/login/jquery.drawsvg.min.js?<%= VERSION %>"></script>
    <!-- pie chart -->
    <!-- <script src="/src/js/highcharts.js"></script>-->
    <script src="https://cdn.hcharts.cn/highcharts/highcharts.js"></script>
    <!-- <script src="/src/js/highcharts-3d.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highcharts/4.2.2/highcharts-3d.js"></script>
    <!-- <script src="/src/js/exporting.js"></script> -->
    <script src="https://cdn.hcharts.cn/highcharts/modules/exporting.js"></script>
    <script type="text/javascript" src="/lib/others/sweetalert.min.js?<%= VERSION %>"></script>
    <script type="text/javascript" src="<%= STATIC %>/scripts/common/web.lang.js?<%= VERSION %>"></script>

    <!--<script src="/lib/requirejs/require.js"></script>-->
    <script src="https://cdn.bootcss.com/require.js/2.3.3/require.min.js"></script>

    <script type="text/javascript" src="<%= STATIC %>/scripts/main.js?<%= VERSION %>"></script>

    <style>
        .swiper-pagination-bullet{
            background: #ddd;
        }
        .swiper-pagination-bullet-active{
            background: #007aff;
        }
        .banner01 a{
            display: block;
        }
        .swiper-slide img {
            width: 100%;
        }
        li{
            list-style: none;
        }
        .header {
            position: fixed;
            left: 0;
            top: 0;
            width: 100%;
            height: 60px;
            padding: 0 40px;
            background: transparent;
        }

        .header .header-nav .dropdown .dropdown-menu {
            top: calc(80% - 2px);
        }

        .header.sticky {
            background: #3E3E3E;
            padding: 0 25px;
            height: 60px;
        }

        .header.sticky .header-nav .dropdown .dropdown-menu {
            top: calc(100% - 2px);
        }

        .social-icons a.weixin {
            position: relative;
        }

        .social-icons a.weixin img {
            position: absolute;
            right: calc(100% + 10px);
            top: 50%;
            transform: translateY(-50%);
            width: 150px;
            max-width: none;
            display: none;
        }

        .social-icons a.weixin:hover img {
            display: block;
        }

        .progress-new {
            width: 100%;
            height: 1rem;
            background-color: #2b0c65;
            -webkit-border-radius: 10px;
            -moz-border-radius: 10px;
            -ms-border-radius: 10px;
            border-radius: 10px;
            margin-bottom: 1.8rem;
        }

        .progress-bar-new {
            background-color: #4FD3D3;
            width: 10%;
            height: 100%;
            -webkit-border-radius: 10px;
            -moz-border-radius: 10px;
            -ms-border-radius: 10px;
            border-radius: 10px;
        }

        .totalcoin {
            display: flex;
            flex-wrap: wrap;
            padding: 30px 15px;
            border-bottom: 1px solid rgba(255, 255, 255, .15);
            list-style: none;
        }

        .totalcoin li {
            margin: 5px;
            background: rgba(255, 255, 255, .1);
            padding: 10px 10px;
            min-width: 80px;
            text-align: center;
        }

        .totalcoin li:hover,
        .totalcoin li.active {
            background: #FFBE3F;
            color: #fff;
        }

        .cd-nav-aux {
            position: relative;
        }

        .market-search {
            right: 0px;
            bottom: 10px;
            display: block;
            position: absolute;
        }

        .market-search .icon {
            position: absolute;
            right: 12px;
            top: 4px;
        }

        .market-search .icon:hover {
            color: #4FD3D3;
        }

        .market-search input {
            border: 2px solid rgba(255, 255, 255, 0.15);
            height: 28px;
            width: 200px;
            border-radius: 14px;
            padding-left: 15px;
            font-size: 14px;
            line-height: 28px;
            color: #c0c0ec;
        }

        .market-search input::placeholder {
            color: #c0c0ec;
        }

        .market-search input::-moz-placeholder {
            color: #c0c0ec;
        }

        .market-search input::-webkit-input-placeholder {
            color: #c0c0ec;
        }

        .market-search input:-moz-placeholder {
            color: #c0c0ec;
        }

        .market-search input:focus {
            border-color: #5f55ff;
        }

        .noData {
            display: flex;
            justify-content: center;
            color: #ccc;
            font-size: 18px;
            padding: 25px 0;
        }

        @media screen and (min-width: 767px) {
            .banner-wrapper {
                padding: 0 0 0 0;
                margin: -55px 0 -105px 0;
            }

            .img-container__banner svg {
                width: 380px;

            }

        }

        /*小于 768px */
        @media (max-width: 768px) {
            .topHeader h2, .bannerTop h2{
                font-size: 2.5rem!important;
                letter-spacing: 2px;
            }

            .topHeader p{
                font-size: 2.5rem!important;
            }
            .bannerTop p{
                font-size: 1.5rem!important;
            }
            .topHeader ul li{
                font-size: 2.0rem!important;
            }
            .drawsvg-initialized {
                width: 200px;
                height: 300px;
            }

            .banner-wrapper {
                padding: 7rem 0 7.7rem;
            }

            .banner ul.compromise {
                display: flex;
                display: -webkit-flex;
                flex-direction: column;
            }

            .banner ul.compromise li p {
                font-size: 2rem;
            }

            .market-search {
                right: calc(50% - 100px);
                top: -20px;
            }
        }

        @media (max-width: 430px) {
            .tab.market-filter-tab{
                display: none;
            }
        }

        .swiper-container {
            width: 100%;
        }
        .swiper-container-horizontal>.swiper-pagination-bullets{
            bottom: 45px;
        }

        .swiper-pagination-bullet{
            width: 20px;
            height: 20px;
            border-radius: 100%;
            background: #FFBE3F;
            opacity: 1;
        }
        .swiper-pagination-bullet-active{
            background: #FFBE3F;
            width: 68px;
            border-radius: 15px;
        }

        @media (max-width: 768px) {
            .swiper-container-horizontal>.swiper-pagination-bullets {
                bottom: 0px;
            }
            .swiper-pagination-bullet {
                width: 10px;
                height: 10px;
            }
            .swiper-pagination-bullet-active{
                width: 38px;
                border-radius: 10px;
            }
        }
    </style>
    <script>
        window.onload = function () {
        var language = getCookie('wlan')

        //首页图表字体自适应
        function getDpr(){
            var dpr = document.body.offsetWidth;
            if (dpr < 285) {
                return 20;
            } else if (dpr < 203) {
                return 13
            } else {
                return 30;
            }
        }

        // var myChart = echarts.init(document.getElementById('chartBox'));
        // 指定图表的配置项和数据
        option = {
            tooltip: {
                trigger: 'item',
                formatter: "{a} <br/>{b}: {c} ({d}%)"
            },
            legend: {
                orient: 'horizontal',
                bottom:'0',
                data: language === 'cn' ? ['市场推广', 'XT基金会', '创始团队', '会员回馈'] : ['Market promotion', 'XT Foundation', 'Founding team', 'Member feedback']
            },
            series: [
                {
                    name: language === 'cn' ? '占比' : 'proportion',
                    type:'pie',
                    radius: ['50%', '70%'],
                    avoidLabelOverlap: false,
                    label: {
                        normal: {
                            show: false,
                            position: 'center'
                        },
                        emphasis: {
                            show: true,
                            textStyle: {
                                fontSize: getDpr(),
                                fontWeight: 'bold'
                            }
                        }
                    },
                    labelLine: {
                        normal: {
                            show: false
                        }
                    },
                    color: ['#4aacc5', '#d48265', '#91c7ae', '#7cb4ed'],
                    data:[
                        {value:10000000, name: language === 'cn' ? '市场推广' : 'Market promotion'},
                        {value:20000000, name: language === 'cn' ? 'XT基金会' : 'XT Foundation'},
                        {value:20000000, name: language === 'cn' ? '创始团队' : 'Founding team'},
                        {value:50000000, name: language === 'cn' ? '会员回馈' : 'Member feedback'}
                    ]
                }
            ]
        };

        // 使用刚指定的配置项和数据显示图表。
        // myChart.setOption(option);
        // setTimeout(function (){
        //     window.onresize = function () {
        //         myChart.resize();
        //     }
        // },200)
    }
</script>

    <div id="zbg-index">
        <section class="banner">
            <div class="swiper-container">
                <div class="swiper-wrapper">
                    <div class="swiper-slide banner01" v-for="item in bannerList">
                        <a :href="item.forwardUrl" target="_blank">
                            <img :src="'http://oss-xt.oss-cn-hongkong.aliyuncs.com/' + item.picture" alt="">
                        </a>
                    </div>
                    <!--<div class="swiper-slide banner01">
                        <img src="<%= IMG_STATIC %>/images/banner01.png" alt="">
                    </div>
                    <div class="swiper-slide banner01">
                        <img src="<%= IMG_STATIC %>/images/banner02.png" alt="">
                    </div>-->
                </div>
                <!-- 如果需要分页器 -->
                <div class="swiper-pagination"></div>
            </div>

            <div class="bottom">
                <p class="title"><%= LANG('官方公告')%></p>
                <div class="box">
                    <div class="notices-container" @mouseenter="noticesMouseEnter($event)" @mouseleave="noticesMouseLeave($event)">
                        <transition-group name="list-complete" :class="{'start': noticeStart}" tag="ul">
                            <li :key="item.articleId" v-cloak v-for="item in notices">
                                <%= LANG('公告')%>：<a :href="'/blog/display?articleId=' + item.articleId" v-text="item.articleTitle"></a>
                            </li>
                        </transition-group>
                    </div>
                </div>
            </div>
        </section>

        <!--市场列表-->
        <section class="index-market">
            <div class="container">
                <!-- zbg市场 -->
                <div class="index-market-wrapper" v-show="markerShow=='XT'">
                    <div class="navWrapper">
                        <div class="navContent">
                            <div @click="changeMarketsTab('hot')" class="market-nav" :class="{active:navActive=='hot'}">
                                <%= LANG('全部')%>
                            </div>
                            <div @click="changeMarketsTab('sxc')" class="market-nav" :class="{active:navActive=='sxc'}">
                                SXC
                                <%= LANG('区')%>
                            </div>
                            <div @click="changeMarketsTab('usdt')" class="market-nav" :class="{active:navActive=='usdt'}">
                                USDT
                                <%= LANG('区')%>
                            </div>
                            <div @click="changeMarketsTab('btc')" class="market-nav" :class="{active:navActive=='btc'}">
                                BTC
                                <%= LANG('区')%>
                            </div>
                        </div>
                        <div class="tab market-filter-tab">
                            <div class="market-filter">
                                <input v-model="keyWord" placeholder="<%=LANG('搜索币种')%>"><i @click="keyWord ? emptySearch() : null"
                                    class="icon iconfont" :class="keyWord == '' ? 'icon-msnui-search' : 'icon-shanchu1'"></i>
                            </div>
                        </div>
                    </div>
                    <div class="market-list">
                        <div class="title">
                            <ul>
                                <li class="coin-name">
                                    <%= LANG('币种')%>
                                </li>
                                <li class="new-price">
                                    <%= LANG('最新价')%>
                                </li>
                                <li>
                                    24H
                                    <%= LANG('涨跌幅')%>
                                    <em></em>
                                </li>
                                <li>
                                    <%= LANG('24H 高/低')%>
                                </li>
                                <li>
                                    <%= LANG('24H 成交量')%>
                                </li>
                                <li>
                                    <%= LANG('操作')%>
                                    <em></em>
                                </li>
                            </ul>
                        </div>
                        <div class="body" v-show="displayMarkets.length">
                            <ul role="button" v-for="(data, index) in displayMarkets" @click="goExchange(1, data.market.replace('/','_'))"
                                v-cloak="">
                                <li class="coin-name">
                                    <img
                                            v-if="data.market.split('_')[0] === 'scc' || data.market.split('_')[0] === 'fil' || data.market.split('_')[0] === 'xem' || data.market.split('_')[0] === 'dash' || data.market.split('_')[0] === 'xlm' || data.market.split('_')[0] === 'ada' || data.market.split('_')[0] === 'xwc' || data.market.split('_')[0] === 'xt' || data.market.split('_')[0] === 'doge'|| data.market.split('_')[0] === 'dcr'|| data.market.split('_')[0] === 'sc'|| data.market.split('_')[0] === 'sxc'|| data.market.split('_')[0] === 'xtz'"
                                        :src="'<%= IMG_STATIC %>/images/icon/coin/' + data.market.split('_')[0] + '.png?<%= VERSION%>'" />
                                    <img v-else :src="'<%= IMG_STATIC %>/images/icon/coin/' + data.market.split('_')[0] + '.svg?<%= VERSION%>'" />
                                    {{data.market.split('_')[0].toUpperCase()}}
                                    <span>
                                        <i>/</i>{{data.market.split('_')[1].toUpperCase()}}</span>
                                </li>
                                <li class="new-price">{{showMoney(data.lastPrice, data.market)}}</li>
                                <li>
                                    <span :class="data.rate >= 0 ? 'green' : 'red'">{{ data.rate >= 0 ? '+' +
                                        showRate(data.rate) : '' + showRate(data.rate) }}%</span>
                                </li>
                                <li>{{data.highPrice}}/{{data.lowPrice}}</li>
                                <li>{{data.volume}}</li>
                                <li style="color:#FFB700">
                                    <%= LANG('去交易')%>
                                </li>
                            </ul>
                        </div>
                        <div class="noData" v-show="!displayMarkets.length">
                            <%= LANG('暂无数据')%>
                        </div>
                    </div>
                </div>
            </div>


        </section>

        <section class="advantage">
            <div class="container">
                <ul class="row">
                    <li class="wow slideInLeft col-md-4" data-wow-duration="1.5s">
                        <h3>
                            <%=LANG('高性能撮合引擎')%>
                        </h3>
                        <p>
                            <%=LANG('自主研发的撮合交易引擎，采用先进的分布式集群架构及微服务开发方式 。支持超过300万/秒交易并发。')%>
                        </p>
                    </li>
                    <li class="wow slideInDown col-md-4" data-wow-duration="1.5s">
                        <h3>
                            <%=LANG('金融级安全防护')%>
                        </h3>
                        <p>
                            <%=LANG('无偏性零知识证明隐私保密技术保护用户隐私，采用基于多种签名、离线签名、分层架构等安全设计，采用冷热钱包分离技术。')%>
                        </p>
                    </li>
                    <li class="wow slideInRight col-md-4" data-wow-duration="1.5s">
                        <h3>
                            <%=LANG('OTC场外交易')%>
                        </h3>
                        <p>
                            <%=LANG('支持多种法币交易 平台担保、快速安全')%>
                        <P>
                    </li>
                </ul>
            </div>
        </section>
        <!-- End of section -->

        <section class="timeLine">
            <div class="container timeBox">
                <h2 class="wow fadeIn" data-wow-duration="2.5s" style="text-align: center">
                    <%=LANG('路线图')%>
                </h2>
                <p>
                    <%=LANG('XT致力于打造一个全球范围内透明、高效、自治、共享的专业数字资产交易平台及全生态社区')%>
                </p>
            </div>
            <div class="roadmap-container">
                <div class="row align-items-end no-gutters">
                    <div class="col-md roadmap-label l-1 active">
                        <div class="text-content">
                            <%=LANG('2018年7月')%>
                            <span>
                                <%=LANG('XT.COM顶级域名正式成为平台统一对外域名')%>
                            </span>
                        </div>
                    </div>
                    <div class="col-md roadmap-label l-2 active">
                        <div class="text-content">
                            <%=LANG('2018年8月')%>
                            <span>
                                <%=LANG('项目内测')%>
                            </span>
                        </div>
                    </div>
                    <div class="col-md roadmap-label l-3 active">
                        <div class="text-content">
                            <%=LANG('2018年10月')%>
                            <span>
                                <%=LANG('项目开启外测β版本完成')%>
                            </span>
                        </div>
                    </div>
                    <div class="col-md roadmap-label l-4 active">
                        <div class="text-content">
                            <%=LANG('2018年11月18日')%>
                            <span>
                                <%=LANG('XT平台重磅上线')%>
                            </span>
                        </div>
                    </div>
                    <div class="col-md roadmap-label l-5">
                        <div class="text-content">
                            <%=LANG('2018年11月')%>
                            <span>
                                <%=LANG('XT平台生态合伙人计划')%>
                            </span>
                        </div>
                    </div>
                    <div class="col-md roadmap-label l-6" style="margin-bottom: 66px;">
                        <div class="text-content">
                            <%=LANG('2018年12月')%>
                            <span>
                                <%=LANG('多语言版本支持计划及全球创新项目遴选计划')%>
                            </span>
                        </div>
                    </div>
                    <div class="col-md roadmap-label l-6">
                        <div class="text-content">
                            <%=LANG('2019年')%>
                            <span>
                                <%=LANG('XT2.0升级计划')%>
                            </span>
                        </div>
                    </div>
                    <div class="col-md roadmap-label l-6">
                        <div class="text-content">
                            <%=LANG('2020年')%>
                            <span>
                                <%=LANG('XT 平台TOP计划')%>
                            </span>
                        </div>
                    </div>
                    
                </div>
                <div class="col-md l-6 timeLine-img01">
                    <img src="<%= IMG_STATIC %>/images/timeLine.png" alt="">
                </div>
                <div class="col-md l-6 timeLine-img02">
                    <img src="<%= IMG_STATIC %>/images/timeLine02.png" alt="">
                </div>
            </div>
        </section>
        <!-- End of .roadmap-to-success -->

        <!-- Team Modal -->
        <div class="team-modal modal fade" id="team-modal" tabindex="-1" role="dialog" aria-labelledby="team-modal"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>

                    <div class="modal-body">
                        <div class="row align-items-center text-center">
                            <div class="col-md-12">
                                <div class="img-container">
                                    <img src="<%= IMG_STATIC %>/images/zbg/images/team/members/team-1.jpg" alt="team modal image"
                                        class="img-fluid">
                                </div>
                                <!-- End of .img-container -->
                            </div>

                            <div class="col-md-12">
                                <div class="member-details">
                                    <h3>Randall Jenkins
                                        <span>Founder &amp; CEO</span>
                                    </h3>
                                    <p>Morbi porttitor fermentum faucibus. Nullam feugiat egestas lacus in bibendum.
                                        Morbi
                                        sed augue at arcu viverra rhoncus eget condimentum arcu. Aliquam aliquet
                                        laoreet
                                        tortor, quis mattis arcu pulvinar vitae. Mauris.</p>
                                    <div class="social-icons social-icons__team-details">
                                        <a href="https://www.facebook.com" target="_blank" rel="noopener">
                                            <i class="fab fa-facebook-f"></i>
                                        </a>
                                        <a href="https://www.twitter.com" target="_blank" rel="noopener">
                                            <i class="fab fa-twitter"></i>
                                        </a>
                                        <a href="https://www.instagram.com" target="_blank" rel="noopener">
                                            <i class="fab fa-instagram"></i>
                                        </a>
                                        <a href="https://www.youtube.com" target="_blank" rel="noopener">
                                            <i class="fab fa-youtube"></i>
                                        </a>
                                        <a href="https://www.linkedin.com/" target="_blank" rel="noopener">
                                            <i class="fab fa-linkedin-in"></i>
                                        </a>
                                        <a href="https://www.pinterest.com" target="_blank" rel="noopener">
                                            <i class="fab fa-pinterest-p"></i>
                                        </a>
                                    </div>
                                    <!-- End of .social-icons -->
                                </div>
                                <!-- End of .member-details -->
                            </div>
                            <!-- End of .col-md-6 -->
                        </div>
                        <!-- End of .row -->
                    </div>
                    <!-- End of .modal-body -->
                </div>
                <!-- End of .modal-content -->
            </div>
            <!-- End of .modal-dialogue -->
        </div>
        <!-- End of .team-modal -->
    </div>
</body>
</html>

<%-include("../include/footer.html")%>
<%-include("../component/inline_chart.html")%>

<script>
    require(['vue', 'common/methods', 'common/juabox'], function (Vue, Methods, JuaBox) {
        var homeMarket = new Vue({
            el: '#zbg-index',
            data: function () {
                return {
                    isFirst: false,
                    marketInit: false,
                    keyWord: '',
                    mLength: 0,
                    //rateUp,rateDown,volumeUp,volumeDown
                    sortBy: 'lastPrice', //'rateDown',
                    assistPrice: null,
                    dWidth: window.document.body.offsetWidth,
                    markets: [],
                    isMobile: Methods.isMobile(),
                    currentExchangeMode: 1,
                    marketsTab: 'hot',
                    marketConfig: {},
                    lineChartSettings: {
                        fill: "",
                        height: 18,
                        stroke: "#cccccc",
                        strokeWidth: 1,
                        width: 61
                    },
                    assistList: {
                        'none': {
                            key: 'none',
                            name: "<%= LANG('默认')%>",
                            icon: '',
                            symbol: '฿',
                            decimal: 6
                        },
                        /*'btc': {key: 'btc', name: 'BTC', icon: 'icon-btc', symbol: '฿',decimal : 6},*/
                        'usd': {
                            key: 'usd',
                            name: 'USD',
                            icon: 'icon-meiyuan',
                            symbol: '$',
                            decimal: 3
                        },
                        '<%= UNIT %>': {
                            key: '<%= UNIT %>',
                            name: '<%= LEGAL[UNIT].unit %>',
                            icon: '',
                            symbol: '<%= LEGAL[UNIT].note %>',
                            decimal: '<%= LEGAL[UNIT].decimal %>'
                        }
                    },
                    websocket: '', //websocket服务,
                    marketAreaList: [],
                    kLineBoxWidth: 300,
                    itemComplete: false,
                    // minerSummaryData: {}, //今日折合数据
                    minerDetailData: '0',
                    todaySum: '--', //今日待分配折合每百万zt折合价
                    hourSum: '',
                    todayMinerIncome: '--', //没百万预计分配折合
                    yesterdayMinerCount: '--', //昨日待分配累计折合
                    day: 0,
                    hour: 0,
                    min: 0,
                    sec: 0,
                    transitiongoal: '10', //动画效果
                    statisticData: '',
                    android: '',
                    ios: '',
                    navActive: 'hot',
                    markerShow: "XT",
                    masInput: '', //搜索数据
                    currentColor: '#c0c0ec',
                    testMarkets: [],
                    noticeStart: false, //滚动开关
                    noticeTimer: null,
                    notices: [],
                    bannerList: []
                }
            },
            computed: {
                showTestMarkets() {
                    switch (this.marketsTab) {
                        case 'hot':
                            return this.testMarkets;
                            break;
                        case 'qc':
                            return this.selectMarkets('qc');
                            break;
                        case 'usdt':
                            return this.selectMarkets('usdt');
                            break;
                        case 'btc':
                            return this.selectMarkets('btc');
                            break;

                    }
                },
                // 将市场id转为 市场名字符串 返回对象
                marketsIdSwitch: function () {
                    var marketId = {};
                    if (this.marketConfig) {
                        for (var a = 0; a < this.markets.length; a++) {
                            for (var b = 0; b < this.marketConfig.length; b++) {
                                if (this.markets[a][0] == this.marketConfig[b].marketId) {
                                    // if ((this.markets[a][0] + 2) == this.marketConfig[b].marketId){
                                    marketId[this.marketConfig[b].marketId] = this.marketConfig[b].name; //格式: '1': btc/qtum
                                }
                            }
                        }
                    }
                    return marketId;
                },
                //推荐市场,目前显示全部 (旧逻辑根据某个字段布尔值过滤) -ok
                hotMarkets: function () {
                    var _this = this;
                    var markets = [];
                    var oriMarkets = this.markets;

                    oriMarkets.forEach(function (item, index) {
                        var currMarketName = _this.marketsIdSwitch[item[0]];
                        if (currMarketName) {
                            //过滤后的数组
                            markets.push(item);
                        }
                    });
                    return this.doSortMarket(this.convertMarket(markets));
                },
                //暂弃用
                mockMarkets: function () {
                    var markets = {};
                    var oriMarkets = this.markets;
                    Object.keys(this.markets).map(function (market) {
                        if (oriMarkets[market]) {
                            markets[market] = oriMarkets[market];
                        }
                    });
                    return this.doSortMarket(this.convertMarket(markets));
                },
                //过滤要显示的市场
                displayMarkets: function () {
                    var type = this.marketsTab;
                    var keyWord = this.keyWord;
                    //优先搜索
                    if (keyWord != '') {
                        return this.marketsForKeyWord(keyWord.toLowerCase());
                    } else {
                        if (type === 'hot') {
                            return this.hotMarkets
                        } else if (type === 'mock') {
                            // return this.mockMarkets
                            return [];
                        } else {
                            return this.marketsForCoin(type);
                        }
                    }
                },
            },
            
            methods: {
                initSwiper: function () {
                    var mySwiper = new Swiper('.swiper-container', {
                        // direction: 'vertical',
                        speed: 2000, //轮播滑动速度
                        loop: true, //循环
                        observer: true,
                        observeParents: true,//修改swiper的父元素时，自动初始化swiper
                        autoplay: {
                            autoplay: true,
                            delay: 5000, //轮播等待时间
                            disableOnInteraction: false, //点击之后还能继续轮播
                        },
                        // 如果需要分页器
                        pagination: {
                            el: '.swiper-pagination',
                            clickable: true //允许点击小圆点跳转
                        },

                        // 如果需要前进后退按钮
                        // navigation: {
                        //     nextEl: '.swiper-button-next',
                        //     prevEl: '.swiper-button-prev',
                        // }
                    });
                },
                // 获取公告信息
                getNoticeList() {
                    var that = this
                    var language = getCookie('wlan')
                    var lanType = {
                        cn: '1',
                        en: '2',
                        kr: '3',
                        jp: '4',
                        hk: '5'
                    } [language]
                    var data = {
                        pageIndex: 1,
                        pageSize: 4,
                        categoryId: '7cZulbgB624',
                        lanType: lanType
                    }
                    Methods.ajax({
                        type: 'GET',
                        url: DOMAIN_DEV +
                            '/exchange/support/controller/website/ArticleController/getArticles',
                        data: data,
                        success: function (res) {
                            that.notices = res.datas.list
                        }
                    })
                },
                getBannerList: function () {
                    var language = getCookie('wlan')
                    var lanType = {
                        cn: '1',
                        en: '2',
                        kr: '3',
                        jp: '4',
                        hk: '5'
                    } [language]
                    Methods.ajax({
                        type: 'GET',
                        url: DOMAIN_DEV +
                            "/exchange/banner/controller/website/BannerController/getByLanType",
                        data: {
                            showType: 1, //1：首页，2：帮助中心
                            platform: 1, //1-web 2-app
                            lanType: lanType
                        },
                        success: function (res) {
                            this.bannerList = res.datas
                        }.bind(this),
                        error: function (res) {

                        }
                    });
                },
                noticesMouseEnter: function ($event) {
                    clearInterval(this.noticeTimer)
                },
                noticesMouseLeave: function ($event) {
                    this.scrollNotices()
                },
                scrollNotices: function () {
                    var _this = this
                    clearInterval(_this.noticeTimer)
                    if(_this.notices.length == 0) {
                        return false 
                    }
                    _this.noticeTimer = setInterval(function () {
                        var tmp = _this.notices.shift()
                        setTimeout(function () {
                            _this.notices.push(tmp)
                        }, 1000)
                    }, 3000)
                },
                emptySearch: function () {
                    this.keyWord = ''
                },
                //获取所有市场
                test() {
                    var arr = []
                    var _this = this
                    $.ajax({
                        type: "GET",
                        url: "https://kline.zbg.com/api/data/v1/tickers?isUseMarketName=true",
                        success: function (res) {
                            var result = res.datas
                            Object.keys(result).forEach(function (val) {
                                arr.push({
                                    market: val.toLocaleLowerCase(),
                                    highPrice: result[val][2],
                                    lowPrice: result[val][3],
                                    lastPrice: result[val][1],
                                    rate: result[val][5],
                                    dayAmount: result[val][4]
                                })
                            })
                            _this.testMarkets = arr
                        }
                    })
                },
                // 过滤市场
                selectMarkets(type) {
                    var arr = []
                    this.testMarkets.forEach(function (val, index) {
                        {
                            if (val.market.split('_')[1] == type) {
                                arr.push(val)
                            }
                        }
                    })
                    return arr
                },
                isLeverMarket: function (market) {
                    var marketInfo = this.marketConfig[market];
                    //console.log(this.marketConfig);
                    return marketInfo ? marketInfo.leverType : '0'
                },
                moneyPrice: function (money, coin) {
                    if (money == 'btc' || money == 'usd' || money == '<%= UNIT %>') {
                        return Number(this.assistPrice[money][coin] ? this.assistPrice[money][
                            coin
                        ] : 1)
                    } else {
                        return 1;
                    }
                },
                //获取指定辅助货币的价格
                getPriceByAssist: function (price, market, assist) {
                    if (!price || price == '' || !market || market == '' || this.assistPrice ==
                        null) {
                        return '--'
                    }
                    var money = market.split('_')[1];
                    //优先取指定的assist
                    var assistCoin = assist || MONEY;
                    if (assistCoin == 'none' || assistCoin == '') {
                        return Methods.fixNumber(price, 4);
                    } else {
                        return Methods.fixNumber(parseFloat(price) * parseFloat(this.assistPrice[
                                assistCoin][money]), this.assistList[assistCoin].decimal) ||
                            '--';
                    }
                },
                getPriceByAssistNew: function (price, market, assist) {
                    var price = price;
                    var market = market.split('/')[1];
                    var assist = assist;
                    var assistPrice = this.assistPrice[assist]
                    return assistPrice[market] * price
                },
                //去掉虚拟市场货币的D字符
                getRealCoinName: function (coin) {
                    if (coin && coin.length > 3 && coin.substring(0, 1) == 'd') {
                        return coin.substring(1);
                    } else {
                        return coin;
                    }
                },
                goExchange: function (type, market) {
                    Methods.setCookie(ENV + 'ExchangeMode', type, 7);
                    window.location.href = '/trade/' + market;
                },
                changeMarketsTab: function (type) {
                    // $('html, body').animate({scrollTop: window.innerHeight - 150}, 400);
                    this.keyWord = '';
                    this.marketsTab = type;
                    this.navActive = type
                    console.log(this.marketsTab)
                },
                // 获取市场配置
                getMarketConfig: function (callback) {
                    var _this = this;
                    Methods.ajax({
                        type: 'GET',
                        // url: DOMAIN_TRADE + API_PREFIX + 'getMarketConfig',
                        url: DOMAIN_DEV +
                            "/exchange/config/controller/website/MarketController/" +
                            'getByWebId',
                        success: function (res) {

                            _this.marketConfig = res.datas;
                            callback && callback(res.datas);
                        }
                    });
                },
                //按货币分类 -ok
                marketsForCoin: function (coin) {
                    var _this = this;
                    var markets = [];
                    var oriMarkets = this.markets;

                    oriMarkets.forEach(function (item, index) {
                        if (_this.marketsIdSwitch[item[0]]) {
                            var coinName = _this.marketsIdSwitch[item[0]].split('_')[1];
                            if (coinName == coin) {
                                //过滤后的数组
                                markets.push(item);
                            }
                        }
                    });


                    return this.doSortMarket(this.convertMarket(markets));
                },
                // 搜索过滤-ok
                marketsForKeyWord: function (keyword) {
                    var _this = this;
                    var markets = [];
                    var oriMarkets = this.markets;
                    var marketsTab = this.marketsTab

                    oriMarkets.forEach(function (item, index) {
                        var currMarketName = _this.marketsIdSwitch[item[0]];
                        if (marketsTab == 'hot') {
                            if (currMarketName.indexOf(keyword) != -1) {
                                //过滤后的数组
                                markets.push(item);
                            }
                        } else {
                            if (currMarketName.indexOf(keyword) != -1 && currMarketName.indexOf(
                                    marketsTab) != -1) {
                                //过滤后的数组
                                markets.push(item);
                            }
                        }
                    });
                    return this.doSortMarket(this.convertMarket(markets));
                },
                //转换对象市场为数组市场(为了排序) -ok
                convertMarket: function (result) {
                    var _this = this;
                    var resultArray = [];
                    
                    result.forEach(function (item, index) {
                        var lineData;
                        try {
                            lineData = JSON.parse(item[6]);
                        } catch (e) {
                            lineData = '';
                        }

                        var obj = {
                            market: _this.marketsIdSwitch[item[0]], //市场名
                            // 价格
                            lastPrice: item[1], //最新价

                            // buyOne : item[4],
                            // sellOne : item[2],
                            highPrice: item[2], //最高价
                            lowPrice: item[3], //最低价

                            // 成交量
                            volume: item[4],
                            //折算交易量为USD排序
                            convertVolume: _this.getVolumeByAssist(item[4], _this.marketsIdSwitch[
                                item[0]], 'usd'),
                            // 走势图
                            lineData: lineData,
                            //涨跌幅
                            rate: item[5]
                        }
                        resultArray.push(obj);
                    });

                    return resultArray;
                },
                //排序的方法-ok
                doSortMarket: function (markets) {
                    var sortBy = this.sortBy;
                    var xtArr = markets.filter(function (item, i) {
                        return item.market.indexOf('xt') !== -1
                    }).sort(function (x, y) {
                        if (sortBy == 'rateUp') {
                            // return x.rate - y.rate;
                            return x.rate - y.rate;
                        } else if (sortBy == 'rateDown') {
                            // return y.rate - x.rate;
                            return y.rate - x.rate;
                        } else if (sortBy == 'volumeUp') {
                            // return x.convertVolume - y.convertVolume;
                            return x.convertVolume - y.convertVolume;
                        } else if (sortBy == 'volumeDown') {
                            // return y.convertVolume - x.convertVolume;
                            return y.convertVolume - x.convertVolume;
                        } else if (sortBy == 'lastPrice') {
                            return y.lastPrice - x.lastPrice;
                        }
                    })
                    if (sortBy == '' || markets.length == 0) {
                        return markets;
                    }
                    // console.log('markets: ' + markets)
                    markets.sort(function (x, y) {
                        // console.log(x, y)
                        var xt_x = x.market.split('_')[0]
                        var xt_y = y.market.split('_')[0]
                        if (sortBy == 'rateUp') {
                            // return x.rate - y.rate;
                            return x.rate - y.rate;
                        } else if (sortBy == 'rateDown') {
                            // return y.rate - x.rate;
                            return y.rate - x.rate;
                        } else if (sortBy == 'volumeUp') {
                            // return x.convertVolume - y.convertVolume;
                            return x.convertVolume - y.convertVolume;
                        } else if (sortBy == 'volumeDown') {
                            // return y.convertVolume - x.convertVolume;
                            return y.convertVolume - x.convertVolume;
                        } else if (sortBy == 'lastPrice') {
                            return y.lastPrice - x.lastPrice;
                        }
                    });
                    return xtArr.concat(markets.filter(function (item, i) {
                        return item.market.split('_')[0] !== 'xt' && item.market.split(
                            '_')[0] !== 'xtz'
                    }));
                },
                changeSort: function (name) {
                    var sortBy = this.sortBy;
                    var swift = function (name, sort) {
                        if (sort == '') {
                            return name + 'Down';
                        }
                        if (sort.indexOf(name) != -1) {
                            if (sort.indexOf('Down') != -1) {
                                return name + 'Up';
                            }
                            if (sort.indexOf('Up') != -1) {
                                return '';
                            }
                        } else {
                            //递归
                            return arguments.callee(name, '');
                        }
                    }
                    this.sortBy = swift(name, sortBy);
                },
                //获取指定辅助货币的价格 -ok
                getVolumeByAssist: function (price, market, assist) {
                    if (!price || price == '' || !market || market == '' || this.assistPrice ==
                        null) {
                        return ''
                    }
                    var coin = market.split('_')[0];
                    //优先取指定的assist 默认保留4位小数
                    var assistCoin = assist || this.assistCoin;
                    if (assistCoin == 'none' || assistCoin == '') {
                        return Methods.fixNumber(price, 4);
                    } else {
                        return Methods.fixNumber(parseFloat(price) * parseFloat(this.assistPrice[
                            assistCoin][coin]), 4) || '--';
                    }
                },
                // 获取币价汇率 -ok
                getPriceRate: function (callback) {
                    Methods.ajax({
                        type: 'GET',
                        url: DOMAIN_DEV +
                            "/exchange/config/controller/website/PriceController/" +
                            'getAssistPrice',
                        success: function (res) {
                            this.assistPrice = res.datas;
                            if (typeof callback == 'function') {
                                callback();
                            }
                        }.bind(this),
                        error: function () {}
                    });
                },
                getHomeMarket: function () {
                    var _this = this;
                    var wsUrl = WEBSOCKET + '/websocket';
                    // var wsUrl = 'ws://192.168.4.95:28080' + '/websocket';

                    //建立握手
                    if ('WebSocket' in window) {
                        _this.websocket = new WebSocket(wsUrl);
                    } else if ('MozWebSocket' in window) {
                        _this.websocket = new MozWebSocket(wsUrl);
                    } else {
                        console.log('Your browser does not support websocket.')
                        return false;
                    }

                    _this.websocket.onopen = function (event) {
                        var marketParam = {
                            dataType: "ALL_TRADE_STATISTIC_24H",
                            dataSize: 1,
                            action: "ADD"
                        }
                        _this.websocket.send(JSON.stringify(marketParam));
                        // console.log('init websocket');

                        //离开或者刷新当前页面时
                        window.onbeforeunload = function () {
                            _this.websocket && _this.websocket.close();
                        }
                    };
                    _this.websocket.onmessage = function (event) {
                        //修改状态
                        if (!_this.marketInit) {
                            _this.marketInit = true;
                        }
                        // console.log('数据变化了：')
                        // [ 市场ID, 当前成交价, 最高价，最低价, 24小时成交量，24小时涨跌幅, 分时量（按小时统计）]
                        var res = JSON.parse(event.data);

                        if (typeof res.trade_statistic == 'object') {
                            _this.markets = res.trade_statistic;
                        } else {
                            _this.markets = [];
                        }
                        jQuery(function ($) {
                            $('.token-slider .carousel-container').slick({
                                dots: true,
                                infinite: true,
                                speed: 200,
                                slidesToShow: 5,
                                slidesToScroll: 1,
                                autoplay: true,
                                autoplaySpeed: 3000,
                                responsive: [{
                                        breakpoint: 2347,
                                        settings: {
                                            slidesToShow: 4,
                                            slidesToScroll: 1,
                                            infinite: true,
                                            dots: true
                                        }
                                    },
                                    {
                                        breakpoint: 1940,
                                        settings: {
                                            slidesToShow: 3,
                                            slidesToScroll: 1,
                                            infinite: true,
                                            dots: true
                                        }
                                    },
                                    {
                                        breakpoint: 1620,
                                        settings: {
                                            slidesToShow: 2,
                                            slidesToScroll: 1,
                                            infinite: true,
                                            dots: true
                                        }
                                    },
                                    {
                                        breakpoint: 767,
                                        settings: {
                                            slidesToShow: 1,
                                            slidesToScroll: 1
                                        }
                                    }
                                    // You can unslick at a given breakpoint now by adding:
                                    // settings: "unslick"
                                    // instead of a settings object
                                ]
                            });
                        })
                        // console.log(event.data)
                    };
                    _this.websocket.onerror = function (event) {
                        //
                    };
                },
                getLineChartColor: function (index, isClose, data) {
                    var colors = [
                        ['#e1033d'],
                        ['#65ceb6']
                    ];

                    var colorsClosed = [
                        ['#666', 'rgba(67,144,234,0.08)']
                    ];

                    // if(index >= colors.length){
                    //     index = index % colors.length;
                    // }
                    var obj = {
                        fill: "",
                        height: 65,
                        // stroke: isClose ? colors[index][0] : colorsClosed[0][0],
                        stroke: data.rate > 0 ? colors[0] : colors[1],
                        strokeWidth: 2,
                        width: this.kLineBoxWidth + 2
                    };
                    return obj;
                },
                getLineData: function (array) {
                    if (array.length > 0) {
                        var arr = [];
                        //容错处理

                        if (!array) {
                            array = []
                        }
                        arr = array.map(function (item) {
                            return item[1];
                        });
                        var min = arr[0];
                        for (var i = 0; i < arr.length; i++) {
                            if (arr[i] < min) {
                                min = arr[i]
                            }
                        }
                        var arr2 = arr.map(function (item) {
                            return item - min;
                        });
                        return arr2.join(",");
                    } else {
                        return '';
                    }
                },
                showRate: function (rate) {
                    return Methods.fixNumber(rate, 2)
                },
                //交易量折合的提示内容
                showVolumeHint: function (volume) {
                    if (parseFloat(volume) > 10000 && parseFloat(volume) < 100000000) {
                        volume = Methods.fixNumber((parseFloat(volume) / 10000), 2) +
                            "<%= LANG('万')%>";
                    }
                    if (parseFloat(volume) > 100000000) {
                        volume = Methods.fixNumber((parseFloat(volume) / 100000000), 4) +
                            "<%= LANG('亿')%>";
                    }
                    return "<%= LANG('折合')%>:$ " + volume;
                },
                showCoin: function (val, market) {
                    if (isNaN(val)) {
                        return '--'
                    } else {
                        return Methods.fixDecimal(val, 4)
                    }
                },
                showMoney: function (val, market) {
                    if (isNaN(val)) {
                        return '--'
                    } else {
                        // var reg = /^-?\d+$/; //添加一个判断，当小数点后面前4位都为0的时候，截取到第五位  以此类推
                        // if (reg.test(Methods.fixDecimal(val, 4))) {
                        //     console.log(val,"ok")
                        //     return Methods.fixDecimal(val, 5);
                        // } else {
                        //     return Methods.fixDecimal(val, 4);
                        // }
                        return val;
                    }
                    
                },
                getMarketAreaListByWebId: function () {
                    Methods.ajax({
                        type: 'GET',
                        url: DOMAIN_DEV +
                            "/exchange/config/controller/website/MarketController/" +
                            'getMarketAreaListByWebId',
                        success: function (res) {
                            this.marketAreaList = res.datas
                        }.bind(this)
                    });
                },
                statistic: function () {
                    var that = this;
                    Methods.ajax({
                        type: 'GET',
                        url: DOMAIN_DEV +
                            "/exchange/fund/controller/website/FundMinerStatController/statistic",
                        success: function (res) {
                            that.statisticData = res.datas
                        },
                        error: function (res) {
                            var resMsg = res.resMsg;
                            // authErrorUi(EXX.L(resMsg.message));
                        }
                    })
                },
                //获取预计分配折合
                // minerSummary: function () {
                //     Methods.ajax({
                //         type: 'GET',
                //         url: DOMAIN_DEV +
                //             "/exchange/fund/controller/website/MinerTransactionController/" +
                //             'minerSummary',
                //         success: function (res) {
                //             // console.log(res)
                //             this.minerSummaryData = res.datas
                //             // this.todaySum =this.spliceFloat(this.minerSummaryData.todayDividendSummary);
                //             // for(key in this.assistPrice ){
                //             //     if(key == "usd"){
                //             //         this.todaySum=this.spliceFloat(this.assistPrice[key]["btc"]*(this.minerSummaryData.todayDividendSummary));
                //             //     }
                //             // }
                //             // this.hourSum =this.spliceFloat(this.minerSummaryData.currentHourDividendSummary)
                //             // this.todayMinerIncome =  this.spliceFloat(this.minerSummaryData.todayMinerIncome)
                //             // this.yesterdayMinerCount = this.spliceFloat(this.minerSummaryData.yesterdayMinerCount)
                //             // console.log(this.yesterdayMinerCount)


                //         }.bind(this)
                //     });
                // },
                //留小数点后6位方法
                spliceFloat(num) {
                    return (Math.floor(num * 1000000)) / 1000000
                },
                webUrlInfo: function (urlGoogle, urlTargetUserId) {

                    let adimUserWeb = {}

                    adimUserWeb.googleCode = urlGoogle
                    adimUserWeb.targetUserId = urlTargetUserId

                    let adimUserWebArr = [];

                    for (var key in adimUserWeb) {
                        if (adimUserWeb.hasOwnProperty(key)) {
                            adimUserWebArr.push(encodeURIComponent(key) + '=' +
                                encodeURIComponent(adimUserWeb[key]));
                        }
                    }

                    return dataToSend = adimUserWebArr.join('&');
                },
                //
                getInvestTotal: function () {
                    var that = this;
                    Methods.ajax({
                        type: 'POST',
                        url: DOMAIN_DEV +
                            "/exchange/fund/controller/website/fundcontroller/getInvestTotal",
                        success: function (res) {
                            var total = res.datas.totalAmount;
                            var progressNum = parseInt((total / 100000000) * 100);
                            if (progressNum > 100) {
                                progressNum = 100;
                            }
                            $("#progressId").css("width", progressNum + "%");
                        }.bind(this)
                    });
                },
                getAndroidLink() {
                    var _this = this
                    Methods.ajax({
                        url: DOMAIN_DEV +
                            '/exchange/app/controller/website/AppVersionController/getVersion?client=1&version=103',
                        success: function (res) {
                            _this.android = res.datas.url
                        }
                    })
                },
                getIosLink() {
                    var _this = this
                    Methods.ajax({
                        url: DOMAIN_DEV +
                            '/exchange/app/controller/website/AppVersionController/getVersion?client=2&version=102',
                        success: function (res) {
                            _this.ios = res.datas.url
                        }
                    })
                }
            },
            updated: function () {

            },
            beforeMount: function () {
                new WOW().init();
            },
            created: function () {
                //公告开始滚
                this.getNoticeList()
                this.noticeStart = true
                this.scrollNotices()
                //获取banner
                this.getBannerList()

                // this.test()
                // this.getHomeMarket()
                // this.getAndroidLink()
                // this.getAndroidLink()
                var queryObj = Methods.parseQueryString();
                var isTo = queryObj && queryObj.t && queryObj.to && queryObj.u && queryObj.g;
                // console.log(queryObj,isTo);
                // if(Object.keys(Methods.GetRequest()).length != 0 && !!Methods.GetRequest().t && !!Methods.GetRequest().to && !!Methods.GetRequest().u && !!Methods.GetRequest().g){
                if (isTo) {
                    Methods.deleCookie(ENV + 'ad');
                    Methods.deleCookie(ENV + 'currentAccountId');
                    // Methods.deleCookie(ENV + 'token');
                    Methods.setCookie(ENV + 'ExchangeMode', 1);
                    Methods.setCookie(ENV + 'TradeTheme', 'dark');
                    Methods.setCookie(ENV + 'inputPriceMode', 0);
                    Methods.setCookie(ENV + 'mname', 'none');
                    Methods.setCookie(ENV + 'uname', 'none');
                    Methods.setCookie(ENV + 'uid', 'none');
                    Methods.setCookie(ENV + 'uon', 'none');
                    window.localStorage.removeItem(ENV + "userInfo");
                    Methods.ajax({
                        url: DOMAIN_DEV +
                            "/exchange/user/controller/admin/UserController/godlogin",
                        data: this.webUrlInfo(queryObj.g, queryObj.u),
                        success: function (res) {
                            this.requestLocked = false;
                            // window.location.href = '/';
                            // Methods.deleLocalStorage(ENV + 'noLoginUserInfo');
                            //存储个人信息
                            Methods.setLocalUserInfo(res.datas);
                            //设置登录状态 cookie
                            Methods.setCookie(ENV + 'uon', 1);
                            Methods.setCookie(ENV + 'uid', res.datas.userId);
                            Methods.setCookie(ENV + 'uname', res.datas.loginName);
                            Methods.setCookie(ENV + 'utoken', res.datas.token);
                            // loginSuccessUi('/u')
                            window.location.href = '/u';
                        },
                        error: function (res) {
                            this.requestLocked = false;
                            var resMsg = res.resMsg;
                            JuaBox.showWrong(EXX.L(resMsg.code));
                            // authErrorUi(EXX.L(resMsg.message));
                        }
                    });

                }
                // this.getInvestTotal();
                var endTime = new Date("2018/7/21 15:00");
                var startTime = new Date("2018/7/9 15:00");
                var totalTime = 60 * 60 * 24 * 12 * 1000; //毫秒为单位
                var nowTime = new Date();
                var progressStr = (nowTime.getTime() - startTime.getTime()) / totalTime;
                var num = parseInt(progressStr * 100);
                if (num > 100) {
                    num = 100;
                }
                $("#progressId").css("width", num + "%");

                this.getPriceRate();
                // this.minerSummary()
                this.statistic()
                this.getMarketAreaListByWebId();

                this.getMarketConfig(function () {
                    this.getHomeMarket();
                    setInterval(this.getPriceRate, 90000);
                    // setInterval(this.getHomeMarket, 5000);
                }.bind(this));
                // this.glabalmarkts()
                // this.glabalexchange('btc')
            },
            mounted: function () {
                //及时更新dom
                Vue.nextTick(function () {
                    this.initSwiper()
                }.bind(this))

                $('.totalcoin').on('click', 'li', function () {
                    $(this).addClass('active').siblings().removeClass('active')
                })
                var that = this

                jQuery(function ($) {

                    var $svg = $('#demo1').drawsvg({
                        duration: 700,
                        stagger: 50
                    });
                    $svg.drawsvg('animate');
                    "use strict";
                    var _document = $(document),
                        _window = $(window),
                        _body = $("body");
                    _document.on('scroll', function () {
                        if ($(this).scrollTop() >= 100) {
                            $('.header').addClass('sticky')
                        } else {
                            $('.header').removeClass('sticky')
                        }

                    })
                    //animated navbar-toggler button
                    _document.on('click', '.navbar .navbar-toggler', function () {
                        $(this).toggleClass("change");
                    });

                    _document.on('click', function (e) {
                        var _navMenu = $('.navbar-nav li');
                        if ($('.navbar-collapse').hasClass('show')) {
                            if (!_navMenu.is(e.target) && _navMenu.has(e.target)
                                .length === 0) {
                                $('.navbar-collapse').removeClass('show');
                                $(".navbar-toggler").removeClass('change');
                            }
                        }
                    });

                    //script for box equal height
                    var maxHeight = 0;
                    $(".equalHeight").each(function () {
                        if ($(this).height() > maxHeight) {
                            maxHeight = $(this).height();
                        }
                    });
                    $(".equalHeight").height(maxHeight);

                    //Video modal
                    $('.video-popup').magnificPopup({
                        type: 'iframe',
                        mainClass: 'mfp-with-zoom',
                        iframe: {
                            markup: '<div class="mfp-iframe-scaler">' +
                                '<div class="mfp-close"></div>' +
                                '<iframe class="mfp-iframe" frameborder="0" allowfullscreen></iframe>' +
                                '</div>',
                            patterns: {
                                youtube: {
                                    index: 'youtube.com/',
                                    id: 'v=',
                                    src: '//www.youtube.com/embed/%id%?autoplay=1'
                                }
                            },
                            srcAction: 'iframe_src'
                        }

                    });

                    //jQuery countdown plugin

                    // var date = new Date()
                    // console.log()
                    //
                    // var time = new Date(date.setDate(date.getDate()+1));
                    // var y = time.getFullYear();
                    // var m = time.getMonth()+1;
                    // var d = time.getDate();
                    // var nowtimer = y+'/'+m+'/'+d

                    // $('#clock').countdown('2018/8/16 15:00:00').on('update.countdown', function (event) {
                    //     var _DateInput = '' +
                    //         '<div><span>%-d</span> 天</div>' +
                    //         '<div><span>%H</span> 小时</div>' +
                    //         '<div><span>%M</span> 分钟</div>' +
                    //         '<div><span>%S</span> 秒</div>';
                    //     var $this = $(this).html(event.strftime(_DateInput));
                    // });
                    var timerID = setInterval(function () {
                        var target = new Date('2018/7/21 15:00');
                        var oldtimer = new Date('2018/7/9 15:00');

                        // var now = new Date();
                        var now = new Date();

                        //计算总时间 / 当前时间距离结束时间的差
                        that.transitiongoal = 100 - Math.floor(((target - now) /
                            (target - oldtimer)) * 100)
                        var d = target - now;
                        //把相差的时间转成秒
                        d = Math.floor(d / 1000);
                        var days = d / (24 * 60 * 60);

                        if (days < 10) {
                            that.day = '0' + Math.floor(days)
                        } else {
                            that.day = Math.floor(days);
                        }

                        //使用之前的时间和天数取余的结果(不是一天),转成小时
                        var hours = d % (24 * 60 * 60) / 3600;


                        if (hours < 10) {
                            that.hour = '0' + Math.floor(hours)
                        } else {
                            that.hour = Math.floor(hours);
                        }
                        //获取分钟，直接和小时取余
                        var minutes = d % (60 * 60) / 60;

                        if (minutes < 10) {
                            that.min = '0' + Math.floor(minutes)
                        } else {
                            that.min = Math.floor(minutes);
                        }
                        //获取秒钟，直接和60取余
                        if (d % 60 < 10) {
                            that.sec = '0' + d % 60;
                        } else {
                            that.sec = d % 60;
                        }
                        if (days <= 0 && hours <= 0 && minutes <= 0 && d % 60 <=
                            0) {
                            that.day = 0
                            that.hour = 0
                            that.min = 0
                            that.sec = 0
                            clearInterval(timerID)
                        }
                    }, 1000)

                    // Token slider

                    //Highchart
                    var stctimerId = setInterval(function () {
                        if (that.statisticData) {
                            console.log((that.statisticData.totalFounderLockPercent *
                                10000) / 100)
                            clearInterval(stctimerId)
                            if ($('.pie-chart').length > 0) {
                                Highcharts.chart('container', {
                                    chart: {
                                        type: 'pie',
                                        options3d: {
                                            enabled: true,
                                            alpha: 45
                                        }
                                    },
                                    title: {
                                        text: 'Contents of Highsoft\'s weekly fruit delivery'
                                    },
                                    subtitle: {
                                        text: '3D donut in Highcharts'
                                    },
                                    plotOptions: {
                                        pie: {
                                            innerSize: 100,
                                            depth: 45
                                        }
                                    },
                                    series: [{
                                        name: "<%= LANG('实际数量(万)') %>",
                                        data: [
                                            [
                                                "<%= LANG('团队持有并锁定') %>" +
                                                Math.floor(
                                                    that.statisticData
                                                    .totalFounderLockPercent *
                                                    10000) /
                                                100 + "%",
                                                Number(that
                                                    .statisticData
                                                    .totalFounderLockAmount
                                                )
                                            ],
                                            [
                                                "<%= LANG('团队持有并解锁') %>" +
                                                Math.floor(
                                                    that.statisticData
                                                    .totalFounderReleasePercent *
                                                    10000) /
                                                100 + "%",
                                                Number(that
                                                    .statisticData
                                                    .totalFounderReleaseAmount
                                                )
                                            ],
                                            [
                                                "<%= LANG('换码ZT并锁定') %> " +
                                                Math.floor(
                                                    that.statisticData
                                                    .totalMarketLockPercent *
                                                    10000) /
                                                100 + "%",
                                                Number(that
                                                    .statisticData
                                                    .totalMarketLockAmount
                                                )
                                            ],
                                            [
                                                "<%= LANG('换码ZT已解锁') %>" +
                                                Math.floor(
                                                    that.statisticData
                                                    .totalMarketReleasePercent *
                                                    10000) /
                                                100 + "%",
                                                Number(that
                                                    .statisticData
                                                    .totalMarketReleaseAmount
                                                )
                                            ],
                                            [
                                                " <%= LANG('已销毁') %>" +
                                                Math.floor(
                                                    that.statisticData
                                                    .totalDestroyPercent *
                                                    10000) /
                                                100 + "%",
                                                Number(that
                                                    .statisticData
                                                    .totalDestroyAmount
                                                )
                                            ]
                                        ]
                                    }]
                                });
                            }

                        }

                    }, 1000)


                    //SVG Line animation
                    $(".roadmap-to-success").each(function () {
                        $(this).waypoint(function () {
                            var _svgPath = $('.roadmap-line-path'),
                                _svgPathLength = $('.roadmap-line-path')
                                .get(0).getTotalLength(),
                                _labelLength = $('.roadmap-label').length;

                            _svgPath.css({
                                'opacity': '1',
                                'stroke-dashoffset': _svgPathLength,
                                'stroke-dasharray': _svgPathLength
                            });

                            setTimeout(function () {
                                _svgPath.animate({
                                    "stroke-dashoffset": _svgPathLength
                                }, 0, function () {
                                    _svgPath.animate({
                                        "stroke-dashoffset": '0px'
                                    }, {
                                        duration: 1500,
                                        // easing: 'linear',
                                        step: function () {
                                            var
                                                a =
                                                parseInt(
                                                    _svgPath
                                                    .css(
                                                        "stroke-dashoffset"
                                                    )
                                                );
                                            for (
                                                var
                                                    i =
                                                    0; i <
                                                _svgPathLength; i++
                                            ) {
                                                if (
                                                    a <
                                                    _svgPathLength *
                                                    (
                                                        _labelLength -
                                                        i
                                                    ) /
                                                    _labelLength
                                                ) {
                                                    $
                                                        (
                                                            ".roadmap-label.l-" +
                                                            (
                                                                i +
                                                                1
                                                            )
                                                        )
                                                        .fadeIn()
                                                        .addClass(
                                                            "active"
                                                        );
                                                }
                                            }
                                        }
                                    }, function () {
                                        //callback ...
                                    });
                                });
                            });
                            this.destroy();
                        }, {
                            triggerOnce: true,
                            offset: 'bottom-in-view'
                        });
                    });


                    //Show data on click event
                    var _roadmapContainer = $('.roadmap-container'),
                        _roadMapLabel = $('.roadmap-label');

                    _roadmapContainer.on('click', '.roadmap-label', function () {
                        if ($(this).find('.data.active').length === 0) {
                            //remove
                            _roadmapContainer.find('.data').removeClass(
                                'active');
                            $(this).find('.data').addClass('active');
                            _roadMapLabel.removeClass('glow');
                            $(this).addClass('glow');

                            if (_window.width() < 768) {
                                _roadmapContainer.find('.data .card').slideUp();
                                $(this).find('.data .card').slideDown(function () {
                                    $('html, body').animate({
                                        scrollTop: $(this).offset()
                                            .top - 90
                                    }, 500);
                                });

                            } else {
                                _roadmapContainer.find('.data .card').fadeOut(
                                    "slow");
                                $(this).find('.data .card').fadeIn("slow");
                            }
                        }
                    });

                    _document.on('click', function (e) {
                        if (!_roadMapLabel.is(e.target) && _roadMapLabel.has(e.target)
                            .length === 0) {
                            _roadmapContainer.find('.data').removeClass(
                                'active');
                            _roadMapLabel.removeClass('glow');
                            if (_window.width() < 768) {
                                _roadmapContainer.find('.data .card').slideUp();
                            } else {
                                _roadmapContainer.find('.data .card').fadeOut();
                            }
                        }
                    });

                    // Contact Form
                    $('.contact-form').on('focus', 'input,textarea', function (e) {
                        $(this).parent('.form-group').addClass('focused');
                    });

                    $('.contact-form').on('blur', 'input,textarea', function (e) {
                        if (!$(this).val()) {
                            $(this).parent('.form-group').removeClass('focused');
                        }
                    })

                    //Global Form validation
                    $('.contact-form').on('submit', function (e) {
                        e.preventDefault();
                        var _self = $(this),
                            data = $(this).serialize(),
                            __selector = _self.closest('input,textarea');

                        _self.closest('div').find('input,textarea').removeAttr(
                            'style');
                        _self.find('.err-msg').remove();
                        _self.find('.form-success').removeClass('form-success');

                        $('.submit-loading-img').css('display', 'block');
                        _self.closest('div').find('button[type="submit"]').attr(
                            'disabled', 'disabled');

                        $.ajax({
                            url: 'email/email.php',
                            type: "post",
                            dataType: 'json',
                            data: data,
                            success: function (data) {
                                $('.submit-loading-img').css(
                                    'display', 'none');
                                _self.closest('div').find(
                                    'button[type="submit"]').removeAttr(
                                    'disabled');

                                if (data.code == false) {
                                    _self.closest('div').find(
                                        '[name="' + data.field +
                                        '"]').addClass(
                                        'form-success');
                                    _self.closest('div').find(
                                        '[name="' + data.field +
                                        '"]').parent().after(
                                        '<div class="err-msg">*' +
                                        data.err + '</div>');
                                } else {
                                    _self.find(
                                        'textarea:last-child').after(
                                        '<div class="success-msg">' +
                                        data.success + '</div>'
                                    );
                                    _self[0].reset();
                                    $('.contact-form .form-group').removeClass(
                                        'focused');
                                    setTimeout(function () {
                                        $('.success-msg').fadeOut(
                                            'slow');
                                    }, 5000);
                                }
                            }
                        });
                    });

                    //progress bar
                    $(".progress").each(function () {
                        $(this).waypoint(function () {
                            $('.progress-bar').progressbar({
                                transition_delay: 100
                            });
                        }, {
                            triggerOnce: true,
                            offset: 'bottom-in-view'
                        });
                    });

                    // Jump to bookmark
                    var _anim = function () {
                        $('html, body').animate({
                            scrollTop: $('.ico-funding').offset().top
                        }, 800, 'easeInOutExpo');
                    }


                    var _commonTab = $('.common-tab .nav li a'),
                        _tabPane = $('.tab-pane'),
                        _footerItem = $('.footer-nav li a');

                    _window.on('load', function () {
                        var loc = window.location.href;

                        if (/tab-campaign/.test(loc)) {
                            _commonTab.removeClass('active');
                            _tabPane.removeClass('show active');
                            $('.common-tab .nav li a[href^="#tab-campaign"]').addClass(
                                'active');
                            $('.tab-pane#tab-campaign').addClass('show active');
                            _footerItem.removeClass('active');
                            $('.footer-nav li a[href^="#tab-campaign"]').addClass(
                                'active');
                            _anim();
                        } else if (/tab-faqs/.test(loc)) {
                            _commonTab.removeClass('active');
                            _tabPane.removeClass('show active');
                            $('.common-tab .nav li a[href^="#tab-faqs"]').addClass(
                                'active');
                            $('.tab-pane#tab-faqs').addClass('show active');
                            _footerItem.removeClass('active');
                            $('.footer-nav li a[href^="#tab-faqs"]').addClass(
                                'active');
                            _anim();
                        } else if (/tab-update/.test(loc)) {
                            _commonTab.removeClass('active');
                            _tabPane.removeClass('show active');
                            $('.common-tab .nav li a[href^="#tab-update"]').addClass(
                                'active');
                            $('.tab-pane#tab-update').addClass('show active');
                            _footerItem.removeClass('active');
                            $('.footer-nav li a[href^="#tab-update"]').addClass(
                                'active');
                            _anim();
                        }
                    });

                    //test
                    $('.footer-nav').on('click', 'li a', function () {
                        if ($(this).attr('href') === "#tab-campaign") {
                            _commonTab.removeClass('active');
                            _tabPane.removeClass('show active');
                            $('.common-tab .nav li a[href^="#tab-campaign"]').addClass(
                                'active');
                            $('.tab-pane#tab-campaign').addClass('show active');
                            _footerItem.removeClass('active');
                            $('.footer-nav li a[href^="#tab-campaign"]').addClass(
                                'active');
                            _anim();
                        } else if ($(this).attr('href') === "#tab-faqs") {
                            _commonTab.removeClass('active');
                            _tabPane.removeClass('show active');
                            $('.common-tab .nav li a[href^="#tab-faqs"]').addClass(
                                'active');
                            $('.tab-pane#tab-faqs').addClass('show active');
                            _footerItem.removeClass('active');
                            $('.footer-nav li a[href^="#tab-faqs"]').addClass(
                                'active');
                            _anim();
                        } else if ($(this).attr('href') === "#tab-update") {
                            _commonTab.removeClass('active');
                            _tabPane.removeClass('show active');
                            $('.common-tab .nav li a[href^="#tab-update"]').addClass(
                                'active');
                            $('.tab-pane#tab-update').addClass('show active');
                            _footerItem.removeClass('active');
                            $('.footer-nav li a[href^="#tab-update"]').addClass(
                                'active');
                            _anim();
                        }
                    });


                    // Preloader js
                    function loader(_success) {
                        var obj = $('.o-preloader'),
                            inner = $('.o-preloader_inner');
                        var w = 0,
                            t = setInterval(function () {
                                w = w + 1;
                                inner.text(w + '%');
                                if (w === 1) {
                                    obj.addClass('open-page');
                                    obj.addClass('hide-loader');

                                    clearInterval(t);
                                    w = 0;
                                    if (_success) {
                                        return _success();
                                    }
                                }
                            }, 20);
                    }

                    loader();


                }(jQuery));

                setTimeout(function () {
                    // this.$nextTick(function() {
                    //that.kLineBoxWidth = document.getElementsByClassName('k-line-box')[0].offsetWidth;
                    // console.log(that.kLineBoxWidth)
                    that.itemComplete = true;
                    // })
                }, 2000)

                window.addEventListener('resize', function () {
                    /*setTimeout(function () {
                        that.kLineBoxWidth = document.getElementsByClassName('k-line-box')[0].offsetWidth;
                    }, 400)*/
                })
            },
            filters: {
                capitalize: function (value) {
                    if (!value || value == null || Number(value) == 0) return '--'
                    return (Math.ceil(value * 1000000)) / 1000000
                },
                capitalize2: function (value) {
                    if (!value) return '--'
                    return (Math.ceil(value * 1000)) / 1000
                },
                thousand: function (value) {
                    if (!value) return '--'
                    return Math.ceil(value) / 10000
                }
            }
        });
    });
</script>