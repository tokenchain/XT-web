<section class="site-wrapper" id="app-help-rate">

    <div class="cd-h1"><%= LANG('网站费率') %></div>



        <div class="container-fluid">
            <div class="cd-table">
                <div class="head">
                <ul>
                    <li class="coin-name"><%= LANG('币种') %></li>
                    <li><%= LANG('提币状态') %></li>
                    <li><%= LANG('提币费率') %></li>
                    <li><%= LANG('单笔提币限额') %></li>
                    <li><%= LANG('单日提币限额') %></li>
                </ul>
                </div>
                <div v-if="!loaded" class="cd-loading">
                    <div class="vertical-bars">
                        <p class="layer-1"></p>
                        <p class="layer-2"></p>
                        <p class="layer-3"></p>
                        <p class="layer-4"></p>
                        <p class="layer-5"></p>
                        <p class="layer-6"></p>
                        <p class="layer-7"></p>
                        <p class="layer-8"></p>
                        <p class="layer-9"></p>
                    </div>
                </div>
                <div v-else class="body" v-cloak="">
                    <ul v-for="coin,key in coinMap" v-if="coin.isLegalCoin==0">
                        <li class="coin-name">
                            <img v-if="coin.name == 'dash'||coin.name == 'xem'||coin.name == 'xlm'||coin.name == 'ada'||coin.name == 'xwc'||coin.name == 'xt'"
                                 :src="'/src/images/icon/coin/'+coin.name+'.png'"
                                 class="icon-coin">
                            <img v-else :src="'/src/images/icon/coin/'+coin.logo" class="icon-coin">{{coin.name.toUpperCase()}}</li>
                        <li style="color: #33CC00;" v-if="coin.drawFlag==1"><%= LANG('开放') %></li>
                        <li style="color: #e35757;" v-else="coin.drawFlag!=1"><%= LANG('关闭') %></li>
                        <li>{{coin.drawFee}}</li>
                        <li>{{coin.drawFlag == 1 && parseFloat(coin.onceDrawLimit) || '-'}}</li>
                        <li>{{coin.drawFlag == 1 && parseFloat(coin.dailyDrawLimit) || '-'}}</li>
                    </ul>
                    <ul>
                        <li><p><%= LANG('交易费率x','0.2%') %></p></li>
                    </ul>
                </div>
            </div>

        </div>
</section>

<script>
    require(['vue', 'common/methods'], function(Vue, Methods) {
        new Vue({
            el: "#app-help-rate",
            data: function () {
                return {
                    coinMap:[],
                    openCoin:{
                        'bcc':'0.1%',
                        'bcd':'0',
                        'btc':'0.1%',
                        'etp':'0.1%',
                        'hpy':'0',
                        'hsr':'0.1%',
                        'ink':'0.1%',
                        'qtum':'0.1%'
                    },
                    loaded:false
                }
            },
            methods: {
                getGuideCategories: function() {
                    var data = {
                        // webId: 100
                    };
                    Methods.ajax({
                        type: 'GET',
                        // url: DOMAIN_MAIN + API_PREFIX + 'getCoinMaps',
                        data: data,
                        url: DOMAIN_DEV + "/exchange/config/controller/website/currencycontroller/" + 'getCurrencyList',
                        success: function(res) {
                            this.loaded = true
                            this.coinMap = res.datas.filter(function (item, i) {
                                return item.name !== 'qtum'
                            });
                        }.bind(this)
                    });
                },

            },
            created: function() {
                this.getGuideCategories()
            }
        })
    })
</script>

