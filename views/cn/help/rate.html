<style>
    .header {
        opacity: 0.45;
        background-color: rgba(19, 14, 0, 1);
        border: 1px solid rgba(19, 14, 0, 1);
    }
    .cd-table .body ul:nth-child(even){
        background: #fff;
    }
    .cd-table .body ul:nth-child(odd){
        background: #FAFAFA;
    }
</style>
<section class="site-wrapper" id="app-help-rate">
    <div class="container" style="margin-top: 385px;">
        <div class="cd-h1">
            <%= LANG('网站费率') %>
        </div>
        <div class="container-fluid">
            <div class="cd-table">
                <div class="head" style="padding:0 20px">
                    <ul>
                        <li class="coin-name"><%= LANG('币种') %></li>
                        <li><%= LANG('提币状态') %></li>
                        <li><%= LANG('提币费率') %></li>
                        <li><%= LANG('单笔提币限额') %></li>
                        <li><%= LANG('单日提币限额') %></li>
                    </ul>
                </div>
                <div v-if="!loaded" class="cd-loading">
                    <div class="vertical-bars">
                        <p class="layer-1"></p>
                        <p class="layer-2"></p>
                        <p class="layer-3"></p>
                        <p class="layer-4"></p>
                        <p class="layer-5"></p>
                        <p class="layer-6"></p>
                        <p class="layer-7"></p>
                        <p class="layer-8"></p>
                        <p class="layer-9"></p>
                    </div>
                </div>
                <div v-else class="body" v-cloak="">
                    <ul v-for="coin,key in coinMap" v-if="coin.isLegalCoin==0" style="padding:0 20px">
                        <li class="coin-name">
                            <img
                                    v-if="coin.name == 'fil'||coin.name == 'dcr'||coin.name == 'sc'||coin.name == 'sxc'||coin.name == 'xtz'||coin.name == 'dash'||coin.name == 'xem'||coin.name == 'xlm'||coin.name == 'ada'||coin.name == 'xwc'||coin.name == 'xt'||coin.name == 'doge'"
                                 :src="'/src/images/icon/coin/'+coin.name+'.png'"
                                 class="icon-coin">
                            <img v-else :src="'/src/images/icon/coin/'+coin.logo" class="icon-coin">{{coin.name.toUpperCase()}}
                        </li>
                        <li v-if="coin.drawFlag==1"><%= LANG('开放') %></li>
                        <li style="color: #e35757;" v-else="coin.drawFlag!=1"><%= LANG('关闭') %></li>
                        <li>{{coin.drawFee}}</li>
                        <li>{{coin.drawFlag == 1 && parseFloat(coin.onceDrawLimit) || '-'}}</li>
                        <li>{{coin.drawFlag == 1 && parseFloat(coin.dailyDrawLimit) || '-'}}</li>
                    </ul>
                    <ul style="padding: 0 30px;">
                        <li><p><%= LANG('交易费率x','0.2%') %></p></li>
                    </ul>
                </div>
            </div>

        </div>
    </div>
</section>

<script>
    require(['vue', 'common/methods'], function (Vue, Methods) {
        new Vue({
            el: "#app-help-rate",
            data: function () {
                return {
                    coinMap: [],
                    openCoin: {
                        'bcc': '0.1%',
                        'bcd': '0',
                        'btc': '0.1%',
                        'etp': '0.1%',
                        'hpy': '0',
                        'hsr': '0.1%',
                        'ink': '0.1%',
                        'qtum': '0.1%'
                    },
                    loaded: false
                }
            },
            methods: {
                getGuideCategories: function () {
                    var data = {
                        // webId: 100
                    };
                    Methods.ajax({
                        type: 'GET',
                        // url: DOMAIN_MAIN + API_PREFIX + 'getCoinMaps',
                        data: data,
                        url: DOMAIN_DEV + "/exchange/config/controller/website/currencycontroller/" + 'getCurrencyList',
                        success: function (res) {
                            this.loaded = true
                            this.coinMap = res.datas.filter(function (item, i) {
                                return item.name !== 'qtum'
                            });
                        }.bind(this)
                    });
                },

            },
            created: function () {
                this.getGuideCategories()
            }
        })
    })
</script>
<%-include("../include/footer.html")%>
